{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// У файлі pixabay-api.js зберігай функції для виконання HTTP-запитів:\n\n// getImagesByQuery(query).Ця функція повинна приймати один параметр query(пошукове слово, яке є рядком),\n//     здійснювати HTTP - запит і повертати значення властивості data з отриманої відповіді.\n\n// https://pixabay.com/api/?key=46534617-f030fa7fdef1b59853604705d&q=yellow+flowers&image_type=photo\n\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/';\n\nexport const API_KEY = 'api/?key=46534617-f030fa7fdef1b59853604705d';\n\nexport function getImagesByQuery(query = '') {\n  const editedQuery = query.trim().split(' ').join('+');\n  return axios(\n    `${API_KEY}&q=${editedQuery}&image_type=photo&orientation=horizontal&safesearch=true`\n  );\n}\n","// У файлі render-functions.js створи екземпляр SimpleLightbox для\n// роботи з модальним вікном та зберігай функції для відображення елементів інтерфейсу:\n\n// createGallery(images). Ця функція повинна приймати масив images,\n// створювати HTML-розмітку для галереї, додавати її в контейнер галереї\n// та викликати метод екземпляра SimpleLightbox refresh(). Нічого не повертає.\n// clearGallery(). Ця функція нічого не приймає та повинна очищати вміст контейнера галереї. Нічого не повертає.\n// showLoader(). Ця функція нічого не приймає, повинна додавати клас для відображення лоадера. Нічого не повертає.\n// hideLoader(). Ця функція нічого не приймає, повинна прибирати клас для відображення лоадера. Нічого не повертає.\n\n// webformatURL — посилання на маленьке зображення для списку карток у галереї\n// largeImageURL — посилання на велике зображення для модального вікна\n// tags — рядок з описом зображення. Підійде для атрибута alt\n// likes — кількість вподобайок\n// views — кількість переглядів\n// comments — кількість коментарів\n// downloads — кількість завантажень\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport SimpleLightbox from 'simplelightbox';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nexport const lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  const imagesMarkup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class= \"gallery-item\"><a href =\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt = \"${tags}\" data-image = \"${largeImageURL}\"></a>\n        <ul class = \"item-dscr\"><li class=\"stats\"><h3>Likes</h3><p>${likes}</p></li>\n        <li class=\"stats\"><h3>Views</h3><p>${views}</p></li>\n        <li class=\"stats\"><h3>Comments</h3><p>${comments}</p></li>\n        <li class=\"stats\"><h3>Downloads</h3><p>${downloads}</p></li>\n        </ul></li>`;\n      }\n    )\n    .join(' ');\n  gallery.insertAdjacentHTML('beforeend', imagesMarkup);\n\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  loader.classList.add('hidden');\n}\n","// У файлі main.js напиши всю логіку роботи додатка.\n// Виклики нотифікацій iziToast, усі перевірки на довжину масиву\n// в отриманій відповіді робимо саме в цьому файлі. Імпортуй в\n// нього функції із файлів pixabay-api.js та render-functions.js та викликай їх у відповідний момент.\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  clearGallery,\n  createGallery,\n  hideLoader,\n  lightbox,\n  showLoader,\n} from './js/render-functions';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', searchButtonHandler);\n\nlet imagesArray = [];\n\nfunction searchButtonHandler(e) {\n  e.preventDefault();\n  const searchQuery = e.target.elements['search-text'].value.trim();\n  if (searchQuery === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query.',\n    });\n    return;\n  }\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(searchQuery)\n    .then(({ data }) => {\n      imagesArray = data.hits;\n      if (imagesArray.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n      console.log(imagesArray);\n      createGallery(imagesArray);\n    })\n    .catch(error => {\n      console.log(error);\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again later.',\n      });\n    })\n    .finally(() => hideLoader());\n  form.reset();\n}\n"],"names":["axios","API_KEY","getImagesByQuery","query","editedQuery","gallery","loader","lightbox","SimpleLightbox","createGallery","images","imagesMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","searchButtonHandler","imagesArray","e","searchQuery","iziToast","data","error"],"mappings":"owBASAA,EAAM,SAAS,QAAU,uBAElB,MAAMC,EAAU,8CAEhB,SAASC,EAAiBC,EAAQ,GAAI,CAC3C,MAAMC,EAAcD,EAAM,KAAM,EAAC,MAAM,GAAG,EAAE,KAAK,GAAG,EACpD,OAAOH,EACL,GAAGC,CAAO,MAAMG,CAAW,0DAC/B,CACA,CCGA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAElCC,EAAW,IAAIC,EAAe,aAAc,CACvD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAeD,EAClB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe,uCAAuCL,CAAa;AAAA,oBAC/CD,CAAY,YAAYE,CAAI,mBAAmBD,CAAa;AAAA,qEACXE,CAAK;AAAA,6CAC7BC,CAAK;AAAA,gDACFC,CAAQ;AAAA,iDACPC,CAAS;AAAA,mBAGrD,EACA,KAAK,GAAG,EACXb,EAAQ,mBAAmB,YAAaM,CAAY,EAEpDJ,EAAS,QAAO,CAClB,CAEO,SAASY,GAAe,CAC7Bd,EAAQ,UAAY,EACtB,CAEO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,IAAI,QAAQ,CAC/B,CClDA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAmB,EAEnD,IAAIC,EAAc,CAAA,EAElB,SAASD,EAAoBE,EAAG,CAC9BA,EAAE,eAAc,EAChB,MAAMC,EAAcD,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OAC3D,GAAIC,IAAgB,GAAI,CACtBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MACD,CACDR,IACAC,IAEAlB,EAAiBwB,CAAW,EACzB,KAAK,CAAC,CAAE,KAAAE,KAAW,CAElB,GADAJ,EAAcI,EAAK,KACfJ,EAAY,SAAW,EAAG,CAC5BG,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EACD,MACD,CACD,QAAQ,IAAIH,CAAW,EACvBf,EAAce,CAAW,CAC/B,CAAK,EACA,MAAMK,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAMN,EAAU,CAAE,EAC7BC,EAAK,MAAK,CACZ"}