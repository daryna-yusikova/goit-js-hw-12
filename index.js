import{a as f,S as v,i}from"./assets/vendor-CyQxvrJ3.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}})();f.defaults.baseURL="https://pixabay.com/";const d=15,S="api/?key=46534617-f030fa7fdef1b59853604705d";function h(a="",t=1){const o=a.trim().split(" ").join("+");return f(`${S}&q=${o}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${d}&page=${t}`)}const m=document.querySelector(".gallery"),y=document.querySelector(".loader"),u=document.querySelector(".load-more"),E=new v(".gallery a",{captionsData:"alt",captionDelay:250});function g(a){const t=a.map(({webformatURL:o,largeImageURL:s,tags:e,likes:r,views:l,comments:P,downloads:$})=>`<li class= "gallery-item"><a href ="${s}">
        <img src="${o}" alt = "${e}" data-image = "${s}"></a>
        <ul class = "item-dscr"><li class="stats"><h3>Likes</h3><p>${r}</p></li>
        <li class="stats"><h3>Views</h3><p>${l}</p></li>
        <li class="stats"><h3>Comments</h3><p>${P}</p></li>
        <li class="stats"><h3>Downloads</h3><p>${$}</p></li>
        </ul></li>`).join(" ");m.insertAdjacentHTML("beforeend",t),E.refresh()}function M(){m.innerHTML=""}function p(){y.classList.remove("hidden")}function L(){y.classList.add("hidden")}function q(){u.classList.remove("hidden")}function b(){u.classList.add("hidden")}const w=document.querySelector(".form");w.addEventListener("submit",B);u.addEventListener("click",A);let c="",n=1;async function B(a){if(a.preventDefault(),c=a.target.elements["search-text"].value.trim(),c===""){i.error({title:"Error",message:"Please enter a search query."});return}b(),M(),n=1,p();try{const{data:t}=await h(c,n),o=t.hits;if(o.length===0){i.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!"});return}g(o);const s=Math.ceil(t.totalHits/d);n>=s?i.info({title:"Limit reached",message:"We are sorry, but you've reached the end of search results."}):q()}catch(t){console.log(t),i.error({title:"Error",message:"Something went wrong. Please try again later."})}finally{L()}w.reset()}async function A(a){n+=1,p();try{const{data:t}=await h(c,n),o=t.hits;g(o);const s=document.querySelector(".gallery-item");if(s){const{height:r}=s.getBoundingClientRect();window.scrollBy({top:r*2,behavior:"smooth"})}const e=Math.ceil(t.totalHits/d);n>=e&&(b(),i.info({title:"Limit reached",message:"We are sorry, but you've reached the end of search results."}))}catch(t){console.log(t),i.error({title:"Error",message:"Something went wrong. Please try again later."})}finally{L()}}
//# sourceMappingURL=index.js.map
